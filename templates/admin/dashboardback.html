{% extends "admin/base.html" %}

{% block content %}
<section class="rooms">
    <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞–º–∏</h2>
    <form method="POST" action="{{ url_for('add_room') }}" class="room-form">
        <input type="text" name="number" placeholder="–ù–æ–º–µ—Ä" required>
        <input type="text" name="type" placeholder="–¢–∏–ø" required>
        <input type="number" step="0.01" name="price" placeholder="–¶–µ–Ω–∞" required>
        <input type="number" name="capacity" placeholder="–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å" required>
        <button type="submit">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–º–µ—Ä</button>
    </form>

    <table class="data-table">
        <thead>
            <tr>
                <th>–ù–æ–º–µ—Ä</th>
                <th>–¢–∏–ø</th>
                <th>–¶–µ–Ω–∞</th>
                <th>–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {% for room in rooms %}
            <tr>
                <td>{{ room.number }}</td>
                <td>{{ room.type }}</td>
                <td>{{ room.price }}</td>
                <td>{{ room.capacity }}</td>
                <td>
                    <a href="{{ url_for('delete_room', id=room.id) }}" 
                       onclick="return confirm('–£–¥–∞–ª–∏—Ç—å –Ω–æ–º–µ—Ä?')" 
                       class="btn-delete">–£–¥–∞–ª–∏—Ç—å</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>

<!-- Room Types Table -->
<table class="data-table">
    <thead>
        <tr>
            <th>ID</th>
            <th>–¢–∏–ø –Ω–æ–º–µ—Ä–∞</th>
            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
    </thead>
    <tbody>
        {% for rt in room_types %}
        <tr>
            <td>{{ rt.id }}</td>
            <td>{{ rt.type }}</td>
            <td class="actions">
                <a href="{{ url_for('edit_room_type', id=rt.id) }}" class="btn-edit">‚úèÔ∏è</a>
                <a href="{{ url_for('delete_room_type', id=rt.id) }}" 
                   onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ç–∏–ø –Ω–æ–º–µ—Ä–∞?')" 
                   class="btn-delete">üóëÔ∏è</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<!-- Rooms Table -->
<table class="data-table">
    <thead>
        <tr>
            <th>–ù–æ–º–µ—Ä</th>
            <th>–¢–∏–ø</th>
            <th>–¶–µ–Ω–∞</th>
            <th>–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</th>
            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
    </thead>
    <tbody>
        {% for room in rooms %}
        <tr>
            <td>{{ room.number }}</td>
            <td>{{ room.type }}</td>
            <td>{{ room.price }}</td>
            <td>{{ room.capacity }}</td>
            <td class="actions">
                <a href="{{ url_for('edit_room', id=room.id) }}" class="btn-edit">‚úèÔ∏è</a>
                <a href="{{ url_for('delete_room', id=room.id) }}" 
                   onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –Ω–æ–º–µ—Ä?')" 
                   class="btn-delete">üóëÔ∏è</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<!-- Clients Table -->
<table class="data-table">
    <thead>
        <tr>
            <th>–ò–º—è</th>
            <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
            <th>Email</th>
            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
    </thead>
    <tbody>
        {% for client in clients %}
        <tr>
            <td>{{ client.name }}</td>
            <td>{{ client.phone }}</td>
            <td>{{ client.mail or '‚Äî' }}</td>
            <td class="actions">
                <a href="{{ url_for('edit_client', id=client.id) }}" class="btn-edit">‚úèÔ∏è</a>
                <a href="{{ url_for('delete_client', id=client.id) }}" 
                   onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞?')" 
                   class="btn-delete">üóëÔ∏è</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<section class="bookings">
    <h2>–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
    <table class="data-table">
        <thead>
            <tr>
                <th>–ö–ª–∏–µ–Ω—Ç</th>
                <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                <th>–ù–æ–º–µ—Ä</th>
                <th>–î–∞—Ç—ã</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {% for booking in bookings %}
            <tr>
                <td>{{ booking.client_name }}</td>
                <td>{{ booking.client_phone }}</td>
                <td>{{ booking.room.number }}</td>
                <td>{{ booking.check_in }} - {{ booking.check_out }}</td>
                <td>
                    <a href="{{ url_for('delete_booking', id=booking.id) }}" 
                       onclick="return confirm('–£–¥–∞–ª–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ?')" 
                       class="btn-delete">–£–¥–∞–ª–∏—Ç—å</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>
{% endblock %}